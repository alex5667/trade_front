# üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞: –û—Ç–ª–∞–¥–∫–∞ Volatility Range Signals

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏

#### üîß –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Socket.IO Service** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤—Ö–æ–¥—è—â–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- **Signal Service** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
- **Redux Slice** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

#### üõ†Ô∏è Debug —É—Ç–∏–ª–∏—Ç—ã

- –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `src/utils/debug-websocket.ts`
- –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å: `window.__debugWS()`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ WebSocket, Redux Store, –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è

#### üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `QUICK_START_DEBUG.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (‚≠ê –Ω–∞—á–Ω–∏—Ç–µ –æ—Ç—Å—é–¥–∞)
- `VOLATILITY_RANGE_DEBUG_GUIDE.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `DEBUG_VOLATILITY_RANGE.md` - –±–∞–∑–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç
- `VOLATILITY_RANGE_DEBUG_CHANGES.md` - —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 2. –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
src/services/socket-io.service.ts     ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
src/services/signal.service.ts        ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ —Å–æ–±—ã—Ç–∏–π
src/app/i/layout.tsx                  ‚úÖ –ò–º–ø–æ—Ä—Ç debug —É—Ç–∏–ª–∏—Ç
src/providers/providers.tsx           ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç store –≤ window
src/utils/debug-websocket.ts          ‚ú® –ù–û–í–´–ô - —É—Ç–∏–ª–∏—Ç—ã –æ—Ç–ª–∞–¥–∫–∏
src/types/window.d.ts                 ‚ú® –ù–û–í–´–ô - —Ç–∏–ø–∏–∑–∞—Ü–∏—è window
```

## üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å –æ—Ç–ª–∞–¥–∫—É

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

```
http://localhost:3000/i/volatility-range
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

–ù–∞–∂–º–∏—Ç–µ `F12` –∏–ª–∏ `Ctrl+Shift+I`

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

–í–≤–µ–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```javascript
window.__debugWS()
```

### –®–∞–≥ 4: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

#### ‚úÖ –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:

```
=== üîå WebSocket Connection Status ===
‚úÖ Socket Stats: { connected: true, ... }

=== üì¶ Redux Store Data ===
Volatility Range Signals:
  Count: 5
  Latest signals: [...]
```

**‚Üí –í–°–ï –†–ê–ë–û–¢–ê–ï–¢! –°–∏–≥–Ω–∞–ª—ã –ø–æ–ª—É—á–µ–Ω—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è.**

#### ‚ùå –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:

```
‚ùå Socket Stats: { connected: false }
```

**‚Üí –ü–†–û–ë–õ–ï–ú–ê –° –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï–ú**

**–î–µ–π—Å—Ç–≤–∏—è:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ backend: `curl http://localhost:4202/socket.io/`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –Ω–∞ –æ—à–∏–±–∫–∏

#### ‚ö†Ô∏è –ï—Å–ª–∏ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω, –Ω–æ –Ω–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–≤:

```
‚úÖ Socket Stats: { connected: true }
Volatility Range Signals: Count: 0
```

**‚Üí BACKEND –ù–ï –û–¢–ü–†–ê–í–õ–Ø–ï–¢ –°–ò–ì–ù–ê–õ–´**

**–î–µ–π—Å—Ç–≤–∏—è:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network ‚Üí WS ‚Üí Messages
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend —ç–º–∏—Ç–∏—Ç —Å–æ–±—ã—Ç–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏

## üîç –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Å–æ–ª–∏

```javascript
// –ë—ã—Å—Ç—Ä–∞—è –ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
window.__debugWS()

// –¢–æ–ª—å–∫–æ WebSocket —Å—Ç–∞—Ç—É—Å
window.__debugWebSocket.checkWebSocketConnection()

// –¢–æ–ª—å–∫–æ Redux Store
window.__debugWebSocket.checkReduxStore()

// –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
window.__debugWebSocket.listenForSignals()

// –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Redux
window.store.getState()

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ socket
window.__socketStats()
```

## üß™ –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í—Å—Ç–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª:

```javascript
const {
	addVolatilityRangeSignal
} = require('@/store/signals/slices/volatility-range.slice')

const testSignal = {
	symbol: 'TESTUSDT',
	type: 'volatilityRange',
	volatility: 2.5,
	range: 0.0023,
	avgRange: 0.0015,
	volatilityChange: 15.5,
	rangeRatio: 1.53,
	timestamp: new Date().toISOString(),
	interval: '5m'
}

window.store.dispatch(addVolatilityRangeSignal(testSignal))
```

**–ï—Å–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª –ø–æ—è–≤–∏–ª—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ:**
‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Å backend

**–ï—Å–ª–∏ –ù–ï –ø–æ—è–≤–∏–ª—Å—è:**
‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∏–ª–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞—Ö

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ (`npm run dev`)
- [ ] –û—Ç–∫—Ä—ã—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/i/volatility-range`
- [ ] –ö–æ–Ω—Å–æ–ª—å –æ—Ç–∫—Ä—ã—Ç–∞ (F12)
- [ ] –ó–∞–ø—É—â–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ `window.__debugWS()`
- [ ] WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω (`connected: true`)
- [ ] Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 4202
- [ ] –í Network ‚Üí WS –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã
- [ ] Redux Store —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∏–≥–Ω–∞–ª—ã
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

## üéØ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ –ø–æ—Ä—è–¥–∫—É

### 1. Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç?

```bash
curl http://localhost:3000
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É.

### 2. WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω?

```javascript
window.__socketStats()
```

–î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å `connected: true`.

### 3. Backend —Ä–∞–±–æ—Ç–∞–µ—Ç?

```bash
curl http://localhost:4202/socket.io/
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON –æ—Ç–≤–µ—Ç.

### 4. –î–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç?

–°–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:

```
üì® [Socket.IO] –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª volatilityRange: {...}
```

### 5. Redux –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è?

```javascript
window.store.getState().volatilityRange.signals.length
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å > 0.

### 6. UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ?

–°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–±–ª–∏—Ü–∞ —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏.

## üêõ –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot read property 'getState' of undefined"

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–æ–∂–¥–∏—Ç–µ –ø–æ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è, –∑–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.

### –ü—Ä–æ–±–ª–µ–º–∞: "Socket Stats: { connected: false }"

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç –≤ `src/config/websocket.config.ts`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∏–≥–Ω–∞–ª—ã –ø—Ä–∏—Ö–æ–¥—è—Ç, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
2. –í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª –≤—Ä—É—á–Ω—É—é
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å–ª–æ–≤–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** `QUICK_START_DEBUG.md`
- **üìñ –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** `VOLATILITY_RANGE_DEBUG_GUIDE.md`
- **‚úÖ –ß–µ–∫–ª–∏—Å—Ç:** `DEBUG_VOLATILITY_RANGE.md`
- **üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è:** `VOLATILITY_RANGE_DEBUG_CHANGES.md`

## üí° –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É** - `window.__debugWS()`
2. **–ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–µ–∫–ª–∏—Å—Ç –≤—ã—à–µ
3. **–°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏** - –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
4. **–ß–∏—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** - –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –≤—ã —Å–º–æ–∂–µ—Ç–µ —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å:

- ‚úÖ –ü—Ä–∏—Ö–æ–¥—è—Ç –ª–∏ –¥–∞–Ω–Ω—ã–µ —Å –±–µ–∫–µ–Ω–¥–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ª–∏ Redux Store
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ª–∏ UI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

**–í—Å–µ –≥–æ—Ç–æ–≤–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏! –ù–∞—á–Ω–∏—Ç–µ —Å `window.__debugWS()` –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞.**
