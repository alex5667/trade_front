# Market Regime System - ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ

## ğŸ“‹ ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¾Ğ±Ğ·Ğ¾Ñ€

ĞŸĞ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ñ€Ñ‹Ğ½Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ° Ğ´Ğ»Ñ Next.js Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ, Ğ²ĞºĞ»ÑÑ‡Ğ°ÑÑ‰Ğ°Ñ:

- WebSocket real-time Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
- ĞœĞ¸Ğ½Ğ¸-Ğ³Ñ€Ğ°Ñ„Ñ‹ (ÑĞ¿Ğ°Ñ€ĞºĞ»Ğ°Ğ¹Ğ½Ñ‹) ADX/ATR%
- Ğ£Ğ¼Ğ½ÑƒÑ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ² Ğ¿Ğ¾ Ñ€ĞµĞ¶Ğ¸Ğ¼Ñƒ
- ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ğ°
- HTF ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ¸ Ğ´Ğ¾Ğ¿ÑƒÑĞº ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Components:                                                 â”‚
â”‚  â”œâ”€â”€ RegimeBadge        â†’ Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ + Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸   â”‚
â”‚  â”œâ”€â”€ RegimeWidget       â†’ ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚ Ñ API/WebSocket     â”‚
â”‚  â”œâ”€â”€ RegimeHealth       â†’ ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ğ°              â”‚
â”‚  â”œâ”€â”€ RegimeContext      â†’ LTF/HTF ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚                  â”‚
â”‚  â”œâ”€â”€ Sparkline          â†’ SVG Ğ¼Ğ¸Ğ½Ğ¸-Ğ³Ñ€Ğ°Ñ„Ñ‹                    â”‚
â”‚  â””â”€â”€ SignalsList        â†’ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Hooks:                                                      â”‚
â”‚  â”œâ”€â”€ useRegimeSocket    â†’ WebSocket Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ             â”‚
â”‚  â””â”€â”€ useFilteredSignals â†’ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ñ€ĞµĞ¶Ğ¸Ğ¼Ñƒ              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Services:                                                   â”‚
â”‚  â””â”€â”€ regime.api.ts      â†’ API ĞºĞ»Ğ¸ĞµĞ½Ñ‚ (10 Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ²)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Utils:                                                      â”‚
â”‚  â””â”€â”€ regime-gate.ts     â†’ Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
                    WebSocket + REST API
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BACKEND                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  WebSocket Events:                                           â”‚
â”‚  â””â”€â”€ 'regime' â†’ Real-time Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  REST Endpoints:                                             â”‚
â”‚  â”œâ”€â”€ GET /regime/snapshot/latest                            â”‚
â”‚  â”œâ”€â”€ GET /regime/snapshot/range                             â”‚
â”‚  â”œâ”€â”€ GET /regime/quantiles                                  â”‚
â”‚  â”œâ”€â”€ GET /regime/health                                     â”‚
â”‚  â”œâ”€â”€ GET /regime/context                                    â”‚
â”‚  â”œâ”€â”€ GET /regime/agg/hourly                                 â”‚
â”‚  â””â”€â”€ GET /regime/agg/daily                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ Ğ’ÑĞµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### 1. ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚         | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ                                              | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ |
| ----------------- | ----------------------------------------------------- | ------ |
| **RegimeBadge**   | Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ° + Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑĞ¿Ğ°Ñ€ĞºĞ»Ğ°Ğ¹Ğ½Ñ‹ | âœ…     |
| **RegimeWidget**  | ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚ Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¾Ğ¹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ live Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸ÑĞ¼Ğ¸  | âœ…     |
| **Sparkline**     | SVG Ğ¼Ğ¸Ğ½Ğ¸-Ğ³Ñ€Ğ°Ñ„Ñ‹ Ğ´Ğ»Ñ ADX/ATR%                           | âœ…     |
| **RegimeHealth**  | ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ğ°                         | âœ…     |
| **RegimeContext** | HTF ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾Ğ¿ÑƒÑĞºĞ° ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²              | âœ…     |
| **SignalsList**   | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ² Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ¿Ğ¾ Ñ€ĞµĞ¶Ğ¸Ğ¼Ñƒ               | âœ…     |

### 2. React Hooks

| Ğ¥ÑƒĞº                    | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ                                  | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ |
| ---------------------- | ------------------------------------------- | ------ |
| **useRegimeSocket**    | WebSocket Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ 'regime'    | âœ…     |
| **useFilteredSignals** | Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ² Ğ¿Ğ¾ Ñ€ĞµĞ¶Ğ¸Ğ¼Ñƒ Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ¾Ğ¹ | âœ…     |

### 3. API ĞœĞµÑ‚Ğ¾Ğ´Ñ‹

| ĞœĞµÑ‚Ğ¾Ğ´                  | Endpoint                  | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ                   |
| ---------------------- | ------------------------- | -------------------------- |
| `fetchRegimeLatest`    | `/regime/snapshot/latest` | ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ ÑĞ½Ğ°Ğ¿ÑˆĞ¾Ñ‚          |
| `fetchRegimeRange`     | `/regime/snapshot/range`  | Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ¹ Ñ€ÑĞ´ Ğ´Ğ»Ñ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ² |
| `fetchRegimeQuantiles` | `/regime/quantiles`       | ĞšĞ²Ğ°Ğ½Ñ‚Ğ¸Ğ»Ğ¸ ADX/ATR%          |
| `fetchRegimeHistory`   | `-`                       | Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ·Ğ° Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´ (helper) |
| `fetchRegimeHealth`    | `/regime/health`          | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ğ°  |
| `fetchRegimeContext`   | `/regime/context`         | LTF/HTF ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ + Ğ´Ğ¾Ğ¿ÑƒÑĞº  |
| `fetchRegimeAggHourly` | `/regime/agg/hourly`      | ĞĞ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ñ‡Ğ°ÑĞ°Ğ¼         |
| `fetchRegimeAggDaily`  | `/regime/agg/daily`       | ĞĞ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ´Ğ½ÑĞ¼          |

### 4. Utility Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸

| Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ                   | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ                        |
| ------------------------- | --------------------------------- |
| `allowSignal()`           | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾Ğ¿ÑƒÑĞºĞ° ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ° Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ |
| `filterSignalsByRegime()` | Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ° ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²       |
| `getFilterReason()`       | ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ°        |
| `getFilterStats()`        | Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸             |

### 5. TypeScript Ñ‚Ğ¸Ğ¿Ñ‹

```typescript
// ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹
RegimeType =
	'range' | 'squeeze' | 'trending_bull' | 'trending_bear' | 'expansion'
TradeSide = 'long' | 'short'
SignalTypeFilter =
	'fvg' | 'ob' | 'breaker' | 'volumeSpike' | 'volatility' | 'smt'

// Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹
RegimeSignal
RegimeSnapshot
RegimeSnapshotParams
RegimeQuantiles
RegimeSeries
FilterableSignal
RegimeHealthResponse
RegimeContextResponse
RegimeAggHourly
RegimeAggDaily
```

## ğŸ¯ Ğ ĞµĞ¶Ğ¸Ğ¼Ñ‹ Ñ€Ñ‹Ğ½ĞºĞ° Ğ¸ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸

### Ğ¢Ğ¸Ğ¿Ñ‹ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ¾Ğ²

| Ğ ĞµĞ¶Ğ¸Ğ¼             | ADX   | ATR%   | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ                 | Ğ¦Ğ²ĞµÑ‚       |
| ----------------- | ----- | ------ | ------------------------ | ---------- |
| **Range**         | < 20  | ĞĞ¸Ğ·ĞºĞ¸Ğ¹ | ĞšĞ¾Ğ½ÑĞ¾Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ, Ñ„Ğ»ÑÑ‚       | ğŸ”˜ Ğ¡ĞµÑ€Ñ‹Ğ¹   |
| **Squeeze**       | 20-25 | < 1.5% | Ğ¡Ğ¶Ğ°Ñ‚Ğ¸Ğµ, Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ¾Ñ  | ğŸŸ¡ Ğ–ĞµĞ»Ñ‚Ñ‹Ğ¹  |
| **Trending Bull** | > 25  | -      | Ğ¡Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ±Ñ‹Ñ‡Ğ¸Ğ¹ Ñ‚Ñ€ĞµĞ½Ğ´      | ğŸŸ¢ Ğ—ĞµĞ»ĞµĞ½Ñ‹Ğ¹ |
| **Trending Bear** | > 25  | -      | Ğ¡Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼ĞµĞ´Ğ²ĞµĞ¶Ğ¸Ğ¹ Ñ‚Ñ€ĞµĞ½Ğ´   | ğŸ”´ ĞšÑ€Ğ°ÑĞ½Ñ‹Ğ¹ |
| **Expansion**     | -     | > 3%   | Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğµ Ğ²Ğ¾Ğ»Ğ°Ñ‚Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ | ğŸ”µ Ğ¡Ğ¸Ğ½Ğ¸Ğ¹   |

### Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²

```typescript
// Trending Bull
âœ… FVG/OB/Breaker LONG
âŒ FVG/OB/Breaker SHORT (ĞºĞ¾Ğ½Ñ‚Ñ€Ñ‚Ñ€ĞµĞ½Ğ´)

// Trending Bear
âœ… FVG/OB/Breaker SHORT
âŒ FVG/OB/Breaker LONG (ĞºĞ¾Ğ½Ñ‚Ñ€Ñ‚Ñ€ĞµĞ½Ğ´)

// Squeeze
âœ… Volume Spike, Volatility
âŒ ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ (Ğ¿Ñ€Ğ¾Ğ±Ğ¾Ğ¸ Ğ½ĞµĞ½Ğ°Ğ´ĞµĞ¶Ğ½Ñ‹)

// Range
âœ… SMT (mean-reversion)
âŒ FVG, OB (Ğ¿Ñ€Ğ¾Ğ±Ğ¾Ğ¸ Ğ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ)

// Expansion
âœ… Ğ’ÑĞµ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹
```

## ğŸ“Š Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

### User Dashboard (`/i`)

```tsx
â”œâ”€â”€ Header Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ¾Ğ¹ "Advanced Regime Dashboard"
â”œâ”€â”€ Grid layout (3 ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸):
â”‚   â”œâ”€â”€ ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° 1:
â”‚   â”‚   â”œâ”€â”€ RegimeWidget (1m, sparklines)
â”‚   â”‚   â””â”€â”€ RegimeHealth
â”‚   â””â”€â”€ ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° 2-3:
â”‚       â””â”€â”€ SignalsList (Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸ĞµĞ¹)
```

### Advanced Regime Dashboard (`/i/regime-dashboard`)

```tsx
â”œâ”€â”€ Header "Market Regime Dashboard"
â”œâ”€â”€ Grid layout:
â”‚   â”œâ”€â”€ RegimeWidget (Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹, Ñ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ°Ğ¼Ğ¸)
â”‚   â”œâ”€â”€ RegimeHealth (Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³)
â”‚   â”œâ”€â”€ RegimeContext (LTF/HTF)
â”‚   â””â”€â”€ Info Panel (Ñ‚Ğ¸Ğ¿Ñ‹ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ¾Ğ²)
```

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### 1. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹

```bash
npm install socket.io-client
```

### 2. ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

```bash
# .env.local
NEXT_PUBLIC_API_BASE_URL=http://localhost:4207/api
NEXT_PUBLIC_WEBSOCKET_URL=http://localhost:4202
```

### 3. Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```tsx
import { RegimeWidget } from '@/components/regime-badge'
import { RegimeContext } from '@/components/regime-context'
import { RegimeHealth } from '@/components/regime-health'

export default function Dashboard() {
	return (
		<div className='grid gap-4'>
			<RegimeWidget
				symbol='BTCUSDT'
				timeframe='1m'
				showSparkline={true}
			/>

			<RegimeHealth
				symbol='BTCUSDT'
				timeframe='1m'
			/>

			<RegimeContext
				symbol='BTCUSDT'
				ltf='1m'
				htf='1h'
				signalType='fvg'
				side='long'
			/>
		</div>
	)
}
```

### 4. Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²

```tsx
import { useRegimeSocket } from '@/hooks/useRegimeSocket'
import { useFilteredSignals } from '@/hooks/useFilteredSignals'
import { SignalsList } from '@/components/signals-list'

export default function Signals() {
  const { regime } = useRegimeSocket()
  const signals = [...] // Ğ²Ğ°ÑˆĞ¸ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹

  const { filtered, stats } = useFilteredSignals(
    signals,
    regime?.regime
  )

  return (
    <>
      <p>Filtered {stats.filtered} of {stats.total} signals</p>
      <SignalsList signals={filtered} />
    </>
  )
}
```

## ğŸ”§ Backend Requirements

### WebSocket Event

```javascript
// Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ 'regime' Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚ÑŒ:
socket.emit('regime', {
	symbol: 'BTCUSDT',
	timeframe: '1m',
	regime: 'trending_bull',
	adx: 28.5,
	atrPct: 0.0234,
	timestamp: new Date().toISOString()
})
```

### REST Endpoints

```
GET /regime/snapshot/latest?symbol=BTCUSDT&timeframe=1m
GET /regime/snapshot/range?symbol=BTCUSDT&timeframe=1m&limit=300
GET /regime/quantiles?symbol=BTCUSDT&timeframe=1m
GET /regime/health?symbol=BTCUSDT&timeframe=1m&maxLagSec=180
GET /regime/context?symbol=BTCUSDT&ltf=1m&htf=1h&signalType=fvg&side=long
GET /regime/agg/hourly?symbol=BTCUSDT&timeframe=1m&hours=24
GET /regime/agg/daily?symbol=BTCUSDT&timeframe=1m&days=14
```

## ğŸ“ ĞŸĞ¾Ğ»Ğ½Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ regime-badge/
â”‚   â”‚   â”œâ”€â”€ RegimeBadge.tsx
â”‚   â”‚   â”œâ”€â”€ RegimeBadge.module.scss
â”‚   â”‚   â”œâ”€â”€ RegimeWidget.tsx
â”‚   â”‚   â”œâ”€â”€ RegimeWidget.module.scss
â”‚   â”‚   â”œâ”€â”€ RegimeExample.tsx
â”‚   â”‚   â”œâ”€â”€ README.md
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ sparkline/
â”‚   â”‚   â”œâ”€â”€ Sparkline.tsx
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ regime-health/
â”‚   â”‚   â”œâ”€â”€ RegimeHealth.tsx
â”‚   â”‚   â”œâ”€â”€ RegimeHealth.module.scss
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ regime-context/
â”‚   â”‚   â”œâ”€â”€ RegimeContext.tsx
â”‚   â”‚   â”œâ”€â”€ RegimeContext.module.scss
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ signals-list/
â”‚       â”œâ”€â”€ SignalsList.tsx
â”‚       â”œâ”€â”€ SignalsList.module.scss
â”‚       â”œâ”€â”€ SignalsListExample.tsx
â”‚       â””â”€â”€ index.ts
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useRegimeSocket.ts
â”‚   â””â”€â”€ useFilteredSignals.ts
â”œâ”€â”€ services/
â”‚   â””â”€â”€ regime.api.ts
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ regime-gate.ts
â”œâ”€â”€ types/
â”‚   â””â”€â”€ signal.types.ts
â””â”€â”€ app/i/
    â”œâ”€â”€ UserBoardPage.tsx
    â””â”€â”€ regime-dashboard/
        â”œâ”€â”€ page.tsx
        â””â”€â”€ RegimeDashboard.module.scss
```

## ğŸ“š Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

| Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚                                                                         | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ                 |
| -------------------------------------------------------------------------------- | ------------------------ |
| [MARKET_REGIME_INTEGRATION.md](./MARKET_REGIME_INTEGRATION.md)                   | Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ       |
| [SPARKLINES_AND_FILTERS_INTEGRATION.md](./SPARKLINES_AND_FILTERS_INTEGRATION.md) | Ğ“Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ Ğ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹        |
| [HEALTH_CONTEXT_WIDGETS.md](./HEALTH_CONTEXT_WIDGETS.md)                         | Health & Context Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚Ñ‹ |
| [REGIME_BACKEND_EXAMPLE.md](./REGIME_BACKEND_EXAMPLE.md)                         | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Backend        |

## âœ… Checklist Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¹ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

### Frontend âœ…

- [x] RegimeBadge ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚
- [x] RegimeWidget Ñ API/WebSocket
- [x] Sparkline Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸
- [x] RegimeHealth Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³
- [x] RegimeContext Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·
- [x] SignalsList Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸ĞµĞ¹
- [x] useRegimeSocket Ñ…ÑƒĞº
- [x] useFilteredSignals Ñ…ÑƒĞº
- [x] Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ (regime-gate)
- [x] API ĞºĞ»Ğ¸ĞµĞ½Ñ‚ (8 Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ²)
- [x] TypeScript Ñ‚Ğ¸Ğ¿Ñ‹
- [x] SCSS ÑÑ‚Ğ¸Ğ»Ğ¸
- [x] User Dashboard
- [x] Advanced Regime Dashboard
- [x] Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

### Backend â³

- [ ] WebSocket 'regime' event
- [ ] GET /regime/snapshot/latest
- [ ] GET /regime/snapshot/range
- [ ] GET /regime/quantiles
- [ ] GET /regime/health
- [ ] GET /regime/context
- [ ] GET /regime/agg/hourly
- [ ] GET /regime/agg/daily

## ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### 1. Frontend Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° TypeScript
npm run type-check

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Linter
npm run lint

# Ğ—Ğ°Ğ¿ÑƒÑĞº dev ÑĞµÑ€Ğ²ĞµÑ€Ğ°
npm run dev
```

ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ:

- `http://localhost:3000/i` - User Dashboard
- `http://localhost:3000/i/regime-dashboard` - Advanced Dashboard

### 2. Backend Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° endpoints
curl http://localhost:4207/api/regime/snapshot/latest?symbol=BTCUSDT&timeframe=1m
curl http://localhost:4207/api/regime/health?symbol=BTCUSDT&timeframe=1m
curl http://localhost:4207/api/regime/context?symbol=BTCUSDT&ltf=1m&htf=1h
```

## ğŸ¯ Use Cases

### 1. ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°

```tsx
<RegimeWidget
	symbol='BTCUSDT'
	timeframe='1m'
/>
```

### 2. ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ

```tsx
<RegimeHealth
	symbol='BTCUSDT'
	timeframe='1m'
/>
```

### 3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾Ğ¿ÑƒÑĞºĞ° ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ°

```tsx
<RegimeContext
	symbol='BTCUSDT'
	ltf='1m'
	htf='1h'
	signalType='fvg'
	side='long'
/>
```

### 4. Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²

```tsx
const { filtered } = useFilteredSignals(signals, regime)
<SignalsList signals={filtered} />
```

## ğŸš€ Production Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ

- âœ… TypeScript 100%
- âœ… Error handling
- âœ… Loading states
- âœ… Responsive design
- âœ… Accessibility (ARIA)
- âœ… Auto-refresh
- âœ… Performance optimized
- âœ… Clean code architecture

## ğŸ“ˆ ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸

- **ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²**: 10+
- **Ğ¥ÑƒĞºĞ¾Ğ²**: 2
- **API Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ²**: 8
- **Utility Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹**: 4
- **TypeScript Ñ‚Ğ¸Ğ¿Ğ¾Ğ²**: 20+
- **Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†**: 2
- **Ğ¡Ñ‚Ñ€Ğ¾Ğº ĞºĞ¾Ğ´Ğ°**: ~2500
- **Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ**: 4 MD Ñ„Ğ°Ğ¹Ğ»Ğ°

---

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ**: âœ… Frontend Complete | â³ Backend Required  
**Ğ’ĞµÑ€ÑĞ¸Ñ**: 1.0.0  
**ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ**: 2025-10-08

**ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸**: Trade Front Team  
**Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸**: Next.js 14, TypeScript, Socket.IO, SCSS Modules, Tailwind CSS
