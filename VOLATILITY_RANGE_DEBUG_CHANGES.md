# üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ Volatility Range Signals

## –ü—Ä–æ–±–ª–µ–º–∞

Volatility Range Signals –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/i/volatility-range`. –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∏—Ö–æ–¥—è—Ç –ª–∏ –¥–∞–Ω–Ω—ã–µ —Å –±–µ–∫–µ–Ω–¥–∞.

## –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Socket.IO Service

**–§–∞–π–ª:** `src/services/socket-io.service.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–∏–≥–Ω–∞–ª–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–¥—Å—á–µ—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Redis –∫–∞–Ω–∞–ª–æ–≤ –∏ –∏—Ö —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `socket.onAny()` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –í–°–ï–• –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–±—ã—Ç–∏–π

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:**

```
üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Socket.IO —Å–∏–≥–Ω–∞–ª–æ–≤...
‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è: signal:volatility, signal:volatilityRange, ...
üì® [Socket.IO] –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª volatilityRange: {...}
üìã [Socket.IO] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –Ω–∞ volatilityRange: 2
```

### 2. –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Signal Service

**–§–∞–π–ª:** `src/services/signal.service.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ
- ‚úÖ –ö–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:**

```
üîß [Signal Service] –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏...
üì© [Signal Service] –ü–æ–ª—É—á–µ–Ω volatilityRange
üìä –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–∏–≥–Ω–∞–ª –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏: BTCUSDT (volatilityRange)
üíæ Adding volatility range signal to store: BTCUSDT ...
```

### 3. –°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ –æ—Ç–ª–∞–¥–∫–∏ WebSocket

**–§–∞–π–ª:** `src/utils/debug-websocket.ts` (–Ω–æ–≤—ã–π)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**

- ‚úÖ `checkWebSocketConnection()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ WebSocket
- ‚úÖ `checkReduxStore()` - –∏–Ω—Å–ø–µ–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ Redux
- ‚úÖ `listenForSignals()` - –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–∏–≥–Ω–∞–ª—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ `sendTestPing()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ ping
- ‚úÖ `checkAll()` - –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º

**–î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å:**

```javascript
window.__debugWS() // –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
window.__debugWebSocket.checkAll() // –¢–æ –∂–µ —Å–∞–º–æ–µ
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è Window

**–§–∞–π–ª:** `src/types/window.d.ts` (–Ω–æ–≤—ã–π)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- ‚úÖ –¢–∏–ø—ã –¥–ª—è `window.store`
- ‚úÖ –¢–∏–ø—ã –¥–ª—è `window.__socketStats()`
- ‚úÖ –¢–∏–ø—ã –¥–ª—è debug —É—Ç–∏–ª–∏—Ç
- ‚úÖ –¢–∏–ø—ã –¥–ª—è Redux DevTools

### 5. –≠–∫—Å–ø–æ—Ä—Ç Redux Store –≤ Window

**–§–∞–π–ª:** `src/providers/providers.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- ‚úÖ Store —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ `window.store` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### 6. –ò–º–ø–æ—Ä—Ç debug —É—Ç–∏–ª–∏—Ç –≤ Layout

**–§–∞–π–ª:** `src/app/i/layout.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- ‚úÖ –ò–º–ø–æ—Ä—Ç `@/utils/debug-websocket` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —É—Ç–∏–ª–∏—Ç
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `'use client'` –¥–∏—Ä–µ–∫—Ç–∏–≤–∞
- ‚úÖ –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### 7. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

- ‚úÖ `DEBUG_VOLATILITY_RANGE.md` - –±–∞–∑–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç
- ‚úÖ `VOLATILITY_RANGE_DEBUG_GUIDE.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- ‚úÖ `QUICK_START_DEBUG.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- ‚úÖ `VOLATILITY_RANGE_DEBUG_CHANGES.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
npm run dev
```

### –®–∞–≥ 2: –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

http://localhost:3000/i/volatility-range

### –®–∞–≥ 3: –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å (F12)

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

```javascript
window.__debugWS()
```

### –®–∞–≥ 5: –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ï—Å–ª–∏ —Å–∏–≥–Ω–∞–ª—ã –ù–ï –ø—Ä–∏—Ö–æ–¥—è—Ç:**

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 4202
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network ‚Üí WS ‚Üí Messages

**–ï—Å–ª–∏ —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–∏—Ö–æ–¥—è—Ç, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:**

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Redux Store: `window.store.getState().volatilityRange`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
- –í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª –≤—Ä—É—á–Ω—É—é (—Å–º. QUICK_START_DEBUG.md)

## –ß—Ç–æ —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å

### –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

1. **–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**

   ```javascript
   window.__socketStats()
   // { connected: true, isConnecting: false, ... }
   ```

2. **–î–∞–Ω–Ω—ã–µ –≤ Redux:**

   ```javascript
   window.store.getState().volatilityRange
   // { signals: [...], lastUpdated: 123456 }
   ```

3. **–í—Ö–æ–¥—è—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã:**

   ```
   üì® [Socket.IO] –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª volatilityRange: {...}
   ```

4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤:**
   ```
   üì© [Signal Service] –ü–æ–ª—É—á–µ–Ω volatilityRange
   üìä –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–∏–≥–Ω–∞–ª –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏: BTCUSDT
   üíæ Adding volatility range signal to store: BTCUSDT
   ```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
2. –ï—Å–ª–∏ —Å–∏–≥–Ω–∞–ª—ã –ù–ï –ø—Ä–∏—Ö–æ–¥—è—Ç ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ backend
3. –ï—Å–ª–∏ —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–∏—Ö–æ–¥—è—Ç ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç/Redux
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏

## –§–∞–π–ª—ã –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏

- **–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** `VOLATILITY_RANGE_DEBUG_GUIDE.md`
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** `QUICK_START_DEBUG.md`
- **–ë–∞–∑–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç:** `DEBUG_VOLATILITY_RANGE.md`
